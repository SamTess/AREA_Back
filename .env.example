# ===============================================
# Variables d'Environnement - AREA_Back
# ===============================================
# Copiez ce fichier vers .env et remplissez avec vos vraies valeurs
# NE JAMAIS commiter le fichier .env dans Git !

# Application Configuration
SPRING_APPLICATION_NAME=AREA_Back
SPRING_PROFILES_ACTIVE=dev

# Server Configuration
SERVER_PORT=8080

# Database Configuration
DATABASE_NAME=your_database_name_here
DATABASE_URL=jdbc:postgresql://localhost:5432/your_database_name_here
DATABASE_USERNAME=area_user
DATABASE_PASSWORD=your_secure_password_here

# JPA Configuration
JPA_DDL_AUTO=update
JPA_SHOW_SQL=false
JPA_FORMAT_SQL=false

# Flyway Configuration
FLYWAY_ENABLED=true
FLYWAY_BASELINE_ON_MIGRATE=true

# Security Configuration
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here
ADMIN_ROLES=ADMIN

# Swagger Configuration
SWAGGER_ENABLED=true
SWAGGER_UI_ENABLED=true

# Logging Configuration
LOG_LEVEL_APP=INFO
LOG_LEVEL_WEB=INFO
LOG_LEVEL_SECURITY=INFO

# Test Configuration (pour les tests d'intégration)
TEST_ADMIN_USERNAME=testadmin
TEST_ADMIN_PASSWORD=testpass123

JWT_ACCESS_SECRET=your_secure_256bit_base64_encoded_access_secret_key_here_32_bytes_minimum
JWT_REFRESH_SECRET=your_secure_256bit_base64_encoded_refresh_secret_key_here_32_bytes_minimum
ACCESS_TOKEN_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"

# Redis Configuration
# SECURITY CRITICAL: Always set a strong password for Redis in production
# Generate a strong password: openssl rand -base64 32
# NEVER use the default value below in production!
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
REDIS_TIMEOUT=2000ms
REDIS_DATABASE=0
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0
REDIS_POOL_MAX_WAIT=-1ms
# Enable SSL/TLS for Redis (RECOMMENDED for production)
# Set to true to enable TLS/SSL encryption
# Self-signed certificates will be auto-generated for development
# For production, replace with proper CA-signed certificates in Docker/redis/certs/
REDIS_SSL=true

# OAuth2 Configuration
GITHUB_CLIENT_ID=your_git_client_id_here
GITHUB_CLIENT_SECRET=your_git_client_secret_here
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

APP_ENCRYPTION_KEY=your_32_byte_base64_encoded_key_here

# Cache Configuration
CACHE_TTL=1800000

# Production Configuration (uniquement pour la prod)
# SSL_KEY_STORE=/path/to/keystore.p12
# SSL_KEY_STORE_PASSWORD=keystore_password

# Services Externes (à ajouter selon vos besoins)
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USERNAME=your_email@domain.com
# EMAIL_PASSWORD=your_email_password

# ===============================================
# Redis Stream Configuration
# ===============================================
# Stream name for area events (default: areas:events)
REDIS_STREAM_NAME=areas:events

# Consumer group name for area processors (default: area-processors)
REDIS_CONSUMER_GROUP=area-processors

# Consumer name - leave empty to auto-generate unique name per instance
# Format: hostname-uuid (for distributed setup) or area-processor-uuid (fallback)
# Set this only if you want to override the auto-generated consumer name
REDIS_CONSUMER_NAME=

# Batch size for stream message processing (default: 10)
REDIS_STREAM_BATCH_SIZE=10

# Thread pool size for stream processing (default: 4)
REDIS_STREAM_THREAD_POOL_SIZE=4

# Poll timeout in milliseconds for stream listening (default: 100)
REDIS_STREAM_POLL_TIMEOUT_MS=100
