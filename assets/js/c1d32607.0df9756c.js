"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[5555],{738:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/email-configuration-guide","title":"Email Configuration Guide","description":"This guide explains how to configure email services for the AREA Backend, including SMTP setup and Resend API fallback configuration.","source":"@site/docs/guides/email-configuration-guide.md","sourceDirName":"guides","slug":"/guides/email-configuration-guide","permalink":"/AREA_Back/docs/guides/email-configuration-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/SamTess/AREA_Back/tree/main/docusaurus/docs/guides/email-configuration-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Docker Setup Guide","permalink":"/AREA_Back/docs/guides/docker-explanation"},"next":{"title":"Services Catalog API with Redis Caching","permalink":"/AREA_Back/docs/guides/service-cache-implementation-guide"}}');var r=i(4848),l=i(8453);const o={},t="Email Configuration Guide",a={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"SMTP Configuration",id:"smtp-configuration",level:2},{value:"Gmail SMTP Setup",id:"gmail-smtp-setup",level:3},{value:"Custom SMTP Server",id:"custom-smtp-server",level:3},{value:"Common SMTP Configurations",id:"common-smtp-configurations",level:3},{value:"Resend API Configuration",id:"resend-api-configuration",level:2},{value:"Getting Started with Resend",id:"getting-started-with-resend",level:3},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"Application Properties",id:"application-properties",level:3},{value:"Dual Provider Setup",id:"dual-provider-setup",level:2},{value:"Complete Configuration",id:"complete-configuration",level:3},{value:"Testing Email Configuration",id:"testing-email-configuration",level:2},{value:"Health Check Endpoint",id:"health-check-endpoint",level:3},{value:"Manual Email Test",id:"manual-email-test",level:3},{value:"Email Service Logs",id:"email-service-logs",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"SMTP Issues",id:"smtp-issues",level:3},{value:"Authentication Failed",id:"authentication-failed",level:4},{value:"Connection Timeout",id:"connection-timeout",level:4},{value:"TLS/SSL Issues",id:"tlsssl-issues",level:4},{value:"Resend API Issues",id:"resend-api-issues",level:3},{value:"Invalid API Key",id:"invalid-api-key",level:4},{value:"Domain Not Verified",id:"domain-not-verified",level:4},{value:"Rate Limiting",id:"rate-limiting",level:4},{value:"Common Issues",id:"common-issues",level:3},{value:"Emails Not Being Sent",id:"emails-not-being-sent",level:4},{value:"Emails Going to Spam",id:"emails-going-to-spam",level:4},{value:"Email Templates Not Working",id:"email-templates-not-working",level:4},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Credential Management",id:"credential-management",level:3},{value:"Email Security Best Practices",id:"email-security-best-practices",level:3},{value:"Monitoring and Alerts",id:"monitoring-and-alerts",level:3},{value:"Production Deployment",id:"production-deployment",level:2},{value:"Environment-Specific Configuration",id:"environment-specific-configuration",level:3},{value:"Email Service Selection",id:"email-service-selection",level:3},{value:"Scaling Considerations",id:"scaling-considerations",level:3},{value:"Backup and Recovery",id:"backup-and-recovery",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"email-configuration-guide",children:"Email Configuration Guide"})}),"\n",(0,r.jsx)(n.p,{children:"This guide explains how to configure email services for the AREA Backend, including SMTP setup and Resend API fallback configuration."}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#smtp-configuration",children:"SMTP Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#resend-api-configuration",children:"Resend API Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#dual-provider-setup",children:"Dual Provider Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#testing-email-configuration",children:"Testing Email Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#security-considerations",children:"Security Considerations"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The AREA Backend supports two email delivery methods:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SMTP (Primary)"}),": Traditional email sending via SMTP servers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resend API (Fallback)"}),": Modern email API service"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The system automatically falls back to Resend if SMTP fails, ensuring reliable email delivery."}),"\n",(0,r.jsx)(n.h2,{id:"smtp-configuration",children:"SMTP Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"gmail-smtp-setup",children:"Gmail SMTP Setup"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Enable 2-Factor Authentication"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Go to Google Account settings"}),"\n",(0,r.jsx)(n.li,{children:"Enable 2-Step Verification"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Generate App Password"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Go to Google Account \u2192 Security \u2192 App passwords"}),"\n",(0,r.jsx)(n.li,{children:'Generate password for "AREA Backend"'}),"\n",(0,r.jsx)(n.li,{children:"Use this 16-character password (not your regular password)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Environment Configuration"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# SMTP Configuration for Gmail\nSMTP_HOST=smtp.gmail.com\nSMTP_PORT=587\nSMTP_USERNAME=your-email@gmail.com\nSMTP_PASSWORD=your-16-char-app-password\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"4. Application Properties"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Gmail SMTP Configuration\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=${SMTP_USERNAME}\nspring.mail.password=${SMTP_PASSWORD}\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-smtp-server",children:"Custom SMTP Server"}),"\n",(0,r.jsx)(n.p,{children:"For other SMTP providers (Outlook, Yahoo, etc.):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Outlook/Hotmail\nSMTP_HOST=smtp-mail.outlook.com\nSMTP_PORT=587\nSMTP_USERNAME=your-email@outlook.com\nSMTP_PASSWORD=your-password\n\n# Yahoo\nSMTP_HOST=smtp.mail.yahoo.com\nSMTP_PORT=587\nSMTP_USERNAME=your-email@yahoo.com\nSMTP_PASSWORD=your-app-password\n\n# Custom SMTP\nSMTP_HOST=your-smtp-server.com\nSMTP_PORT=587\nSMTP_USERNAME=your-username\nSMTP_PASSWORD=your-password\n"})}),"\n",(0,r.jsx)(n.h3,{id:"common-smtp-configurations",children:"Common SMTP Configurations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Provider"}),(0,r.jsx)(n.th,{children:"SMTP Host"}),(0,r.jsx)(n.th,{children:"Port"}),(0,r.jsx)(n.th,{children:"Security"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Gmail"}),(0,r.jsx)(n.td,{children:"smtp.gmail.com"}),(0,r.jsx)(n.td,{children:"587"}),(0,r.jsx)(n.td,{children:"STARTTLS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Outlook"}),(0,r.jsx)(n.td,{children:"smtp-mail.outlook.com"}),(0,r.jsx)(n.td,{children:"587"}),(0,r.jsx)(n.td,{children:"STARTTLS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Yahoo"}),(0,r.jsx)(n.td,{children:"smtp.mail.yahoo.com"}),(0,r.jsx)(n.td,{children:"587"}),(0,r.jsx)(n.td,{children:"STARTTLS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SendGrid"}),(0,r.jsx)(n.td,{children:"smtp.sendgrid.net"}),(0,r.jsx)(n.td,{children:"587"}),(0,r.jsx)(n.td,{children:"STARTTLS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mailgun"}),(0,r.jsx)(n.td,{children:"smtp.mailgun.org"}),(0,r.jsx)(n.td,{children:"587"}),(0,r.jsx)(n.td,{children:"STARTTLS"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"resend-api-configuration",children:"Resend API Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"getting-started-with-resend",children:"Getting Started with Resend"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Sign Up"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://resend.com",children:"resend.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Create an account"}),"\n",(0,r.jsx)(n.li,{children:"Verify your domain (recommended for production)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Get API Key"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Go to API Keys section"}),"\n",(0,r.jsx)(n.li,{children:"Create a new API key"}),"\n",(0,r.jsxs)(n.li,{children:["Copy the key (starts with ",(0,r.jsx)(n.code,{children:"re_"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Domain Verification (Production)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add your domain in the Domains section"}),"\n",(0,r.jsx)(n.li,{children:"Add the required DNS records"}),"\n",(0,r.jsx)(n.li,{children:"Wait for verification (can take up to 24 hours)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Resend API Configuration\nRESEND_API_KEY=re_your-api-key-here\nRESEND_FROM_EMAIL=noreply@yourdomain.com\nRESEND_ENABLED=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"application-properties",children:"Application Properties"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Resend Configuration\napp.email.resend.api-key=${RESEND_API_KEY}\napp.email.resend.from=${RESEND_FROM_EMAIL:noreply@yourdomain.com}\napp.email.resend.enabled=${RESEND_ENABLED:true}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"dual-provider-setup",children:"Dual Provider Setup"}),"\n",(0,r.jsx)(n.h3,{id:"complete-configuration",children:"Complete Configuration"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:".env file:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# SMTP Configuration (Primary)\nSMTP_HOST=smtp.gmail.com\nSMTP_PORT=587\nSMTP_USERNAME=your-email@gmail.com\nSMTP_PASSWORD=your-16-char-app-password\n\n# Resend Configuration (Fallback)\nRESEND_API_KEY=re_your-api-key-here\nRESEND_FROM_EMAIL=noreply@yourdomain.com\nRESEND_ENABLED=true\n\n# Email Settings\nEMAIL_VERIFICATION_TOKEN_EXPIRY_MINUTES=1440\nEMAIL_RESET_TOKEN_EXPIRY_MINUTES=15\nEMAIL_FROM=noreply@yourdomain.com\nEMAIL_VERIFICATION_SUBJECT="Verify Your AREA Account"\nEMAIL_RESET_SUBJECT="Reset Your AREA Password"\nNEXT_PUBLIC_APP_URL=http://localhost:3000\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"application.properties:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# SMTP Configuration\nspring.mail.host=${SMTP_HOST:smtp.gmail.com}\nspring.mail.port=${SMTP_PORT:587}\nspring.mail.username=${SMTP_USERNAME}\nspring.mail.password=${SMTP_PASSWORD}\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.ssl.trust=${SMTP_HOST:smtp.gmail.com}\n\n# Email Verification Settings\napp.email.verification.token-expiry-minutes=${EMAIL_VERIFICATION_TOKEN_EXPIRY_MINUTES:1440}\napp.email.reset.token-expiry-minutes=${EMAIL_RESET_TOKEN_EXPIRY_MINUTES:15}\napp.email.from=${EMAIL_FROM:noreply@yourdomain.com}\napp.email.verification.subject=${EMAIL_VERIFICATION_SUBJECT:Verify Your AREA Account}\napp.email.reset.subject=${EMAIL_RESET_SUBJECT:Reset Your AREA Password}\napp.email.frontend-url=${NEXT_PUBLIC_APP_URL:http://localhost:3000}\n\n# Resend Fallback\napp.email.resend.api-key=${RESEND_API_KEY}\napp.email.resend.from=${RESEND_FROM_EMAIL:noreply@yourdomain.com}\napp.email.resend.enabled=${RESEND_ENABLED:true}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-email-configuration",children:"Testing Email Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"health-check-endpoint",children:"Health Check Endpoint"}),"\n",(0,r.jsx)(n.p,{children:"Check if email services are working:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/actuator/health\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "status": "UP",\n    "components": {\n        "email": {\n            "status": "UP",\n            "details": {\n                "smtp": "UP",\n                "resend": "UP"\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"manual-email-test",children:"Manual Email Test"}),"\n",(0,r.jsx)(n.p,{children:"Test email sending with a simple curl command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Test SMTP connection\ncurl -X POST http://localhost:8080/api/auth/forgot-password \\\n  -H "Content-Type: application/json" \\\n  -d \'{"email": "your-test-email@example.com"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"email-service-logs",children:"Email Service Logs"}),"\n",(0,r.jsx)(n.p,{children:"Check application logs for email sending:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# View recent logs\ntail -f logs/application.log | grep -i email\n\n# Or check with docker\ndocker-compose -f docker-compose.back.yaml logs -f area-backend | grep -i email\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"smtp-issues",children:"SMTP Issues"}),"\n",(0,r.jsx)(n.h4,{id:"authentication-failed",children:"Authentication Failed"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"org.springframework.mail.MailAuthenticationException: Authentication failed\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify username/password"}),"\n",(0,r.jsx)(n.li,{children:"For Gmail: Use App Password, not regular password"}),"\n",(0,r.jsx)(n.li,{children:"Check if 2FA is enabled and App Password is correct"}),"\n",(0,r.jsx)(n.li,{children:"Ensure account isn't locked or suspended"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"connection-timeout",children:"Connection Timeout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"java.net.SocketTimeoutException: Read timed out\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check SMTP host and port"}),"\n",(0,r.jsx)(n.li,{children:"Verify firewall settings"}),"\n",(0,r.jsx)(n.li,{children:"Try different SMTP provider"}),"\n",(0,r.jsx)(n.li,{children:"Check network connectivity"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"tlsssl-issues",children:"TLS/SSL Issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"javax.mail.MessagingException: Could not convert socket to TLS\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"spring.mail.properties.mail.smtp.starttls.enable=true"})]}),"\n",(0,r.jsx)(n.li,{children:"Check if port supports TLS (587 for STARTTLS, 465 for SSL)"}),"\n",(0,r.jsx)(n.li,{children:"Update Java security settings if needed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"resend-api-issues",children:"Resend API Issues"}),"\n",(0,r.jsx)(n.h4,{id:"invalid-api-key",children:"Invalid API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP 401 Unauthorized\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify API key starts with ",(0,r.jsx)(n.code,{children:"re_"})]}),"\n",(0,r.jsx)(n.li,{children:"Check if API key is active"}),"\n",(0,r.jsx)(n.li,{children:"Regenerate API key if compromised"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"domain-not-verified",children:"Domain Not Verified"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP 403 Forbidden - Domain not verified\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify domain ownership with DNS records"}),"\n",(0,r.jsx)(n.li,{children:"Wait for DNS propagation (up to 24 hours)"}),"\n",(0,r.jsxs)(n.li,{children:["Use verified domain for ",(0,r.jsx)(n.code,{children:"RESEND_FROM_EMAIL"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP 429 Too Many Requests\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check Resend dashboard for usage limits"}),"\n",(0,r.jsx)(n.li,{children:"Implement email queuing for high-volume"}),"\n",(0,r.jsx)(n.li,{children:"Upgrade Resend plan if needed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h4,{id:"emails-not-being-sent",children:"Emails Not Being Sent"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Verify environment variables\necho $SMTP_USERNAME\necho $RESEND_API_KEY\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test Connectivity:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Test SMTP connection\ntelnet smtp.gmail.com 587\n\n# Test Resend API\ncurl -H "Authorization: Bearer $RESEND_API_KEY" \\\n     https://api.resend.com/domains\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check Logs:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Application logs\ngrep \"EmailService\" logs/application.log\n\n# Email health\ncurl http://localhost:8080/actuator/health | jq '.components.email'\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"emails-going-to-spam",children:"Emails Going to Spam"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use verified domain for sender email"}),"\n",(0,r.jsx)(n.li,{children:"Avoid spam trigger words in subject/content"}),"\n",(0,r.jsx)(n.li,{children:"Set up SPF/DKIM/DMARC records"}),"\n",(0,r.jsx)(n.li,{children:"Monitor email reputation"}),"\n",(0,r.jsx)(n.li,{children:"Use consistent sending patterns"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"email-templates-not-working",children:"Email Templates Not Working"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Issues:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Links not clickable"}),"\n",(0,r.jsx)(n.li,{children:"Variables not replaced"}),"\n",(0,r.jsx)(n.li,{children:"HTML formatting broken"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check template syntax"}),"\n",(0,r.jsx)(n.li,{children:"Verify variable names match code"}),"\n",(0,r.jsx)(n.li,{children:"Test with plain text first"}),"\n",(0,r.jsx)(n.li,{children:"Validate HTML structure"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"credential-management",children:"Credential Management"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Never commit credentials:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# .gitignore should include\n.env\napplication-local.properties\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use environment variables:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Production deployment\nexport SMTP_PASSWORD="your-secure-password"\nexport RESEND_API_KEY="re_your-api-key"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"email-security-best-practices",children:"Email Security Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use HTTPS URLs"})," in email links"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token Expiry"})," - Keep verification tokens short-lived"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limiting"})," - Prevent email abuse"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Content Security"})," - Avoid sensitive data in emails"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Domain Verification"})," - Use verified sending domains"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"monitoring-and-alerts",children:"Monitoring and Alerts"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Set up monitoring for:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Email delivery failures"}),"\n",(0,r.jsx)(n.li,{children:"High bounce rates"}),"\n",(0,r.jsx)(n.li,{children:"Spam complaints"}),"\n",(0,r.jsx)(n.li,{children:"API rate limit hits"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Log important events:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// In EmailService\nlog.info("Email sent successfully to: {}", email);\nlog.warn("Email delivery failed: {}", exception.getMessage());\n'})}),"\n",(0,r.jsx)(n.h2,{id:"production-deployment",children:"Production Deployment"}),"\n",(0,r.jsx)(n.h3,{id:"environment-specific-configuration",children:"Environment-Specific Configuration"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Development:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Relaxed settings for development\napp.email.verification.token-expiry-minutes=1440\napp.email.resend.enabled=true\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Production:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Stricter settings for production\napp.email.verification.token-expiry-minutes=1440\napp.email.reset.token-expiry-minutes=15\napp.email.resend.enabled=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"email-service-selection",children:"Email Service Selection"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use SMTP:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Low to medium email volume"}),"\n",(0,r.jsx)(n.li,{children:"Cost-sensitive projects"}),"\n",(0,r.jsx)(n.li,{children:"Existing SMTP infrastructure"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use Resend:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"High email volume"}),"\n",(0,r.jsx)(n.li,{children:"Advanced analytics needed"}),"\n",(0,r.jsx)(n.li,{children:"Transactional email focus"}),"\n",(0,r.jsx)(n.li,{children:"Better deliverability"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Recommended: Use both with SMTP as primary and Resend as fallback"})}),"\n",(0,r.jsx)(n.h3,{id:"scaling-considerations",children:"Scaling Considerations"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For high-volume applications:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email queuing"})," - Use message queues for bulk emails"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multiple SMTP accounts"})," - Rotate between accounts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email service providers"})," - Consider dedicated ESPs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"})," - Track delivery rates and bounce rates"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"backup-and-recovery",children:"Backup and Recovery"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Email service failure scenarios:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SMTP down"})," \u2192 Automatic fallback to Resend"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resend down"})," \u2192 Queue emails for retry"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Both down"})," \u2192 Alert administrators, manual intervention"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Recovery procedures:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Monitor health endpoints"}),"\n",(0,r.jsx)(n.li,{children:"Have backup email services ready"}),"\n",(0,r.jsx)(n.li,{children:"Document manual email sending procedures"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This configuration guide should help you set up reliable email services for the AREA Backend application."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);