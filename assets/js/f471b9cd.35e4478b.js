"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[2683],{6968:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"technical/redis-implementation","title":"Redis Implementation and Security - Technical Documentation","description":"Table of Contents","source":"@site/docs/technical/08-redis-implementation.md","sourceDirName":"technical","slug":"/technical/redis-implementation","permalink":"/docs/technical/redis-implementation","draft":false,"unlisted":false,"editUrl":"https://github.com/SamTess/AREA_Back/tree/main/docusaurus/docs/technical/08-redis-implementation.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Security Architecture Guide","permalink":"/docs/technical/security-guide"},"next":{"title":"Webhook System - Technical Documentation","permalink":"/docs/technical/webhook-system"}}');var r=i(4848),t=i(8453);const c={},l="Redis Implementation and Security - Technical Documentation",a={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Technology Stack",id:"technology-stack",level:3},{value:"Architecture",id:"architecture",level:2},{value:"System Diagram",id:"system-diagram",level:3},{value:"Component Interaction",id:"component-interaction",level:3},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Spring Configuration",id:"spring-configuration",level:3},{value:"RedisConfig.java",id:"redisconfigjava",level:4},{value:"Connection Factory",id:"connection-factory",level:3},{value:"Redis Template",id:"redis-template",level:3},{value:"Security Features",id:"security-features",level:2},{value:"Multi-Layer Security Architecture",id:"multi-layer-security-architecture",level:3},{value:"1. Network Security",id:"1-network-security",level:3},{value:"2. TLS/SSL Encryption",id:"2-tlsssl-encryption",level:3},{value:"3. Authentication",id:"3-authentication",level:3},{value:"4. Command Restriction",id:"4-command-restriction",level:3},{value:"5. Resource Limits",id:"5-resource-limits",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Docker Configuration",id:"docker-configuration",level:3},{value:"TLS/SSL Implementation",id:"tlsssl-implementation",level:2},{value:"Certificate Generation",id:"certificate-generation",level:3},{value:"TLS Handshake Flow",id:"tls-handshake-flow",level:3},{value:"Certificate Management",id:"certificate-management",level:3},{value:"Caching Strategy",id:"caching-strategy",level:2},{value:"Cache Hierarchies",id:"cache-hierarchies",level:3},{value:"Cache Configuration",id:"cache-configuration",level:3},{value:"Cache Usage Patterns",id:"cache-usage-patterns",level:3},{value:"Redis Streams",id:"redis-streams",level:2},{value:"Event-Driven Architecture",id:"event-driven-architecture",level:3},{value:"Stream Configuration",id:"stream-configuration",level:3},{value:"Stream Properties",id:"stream-properties",level:3},{value:"Event Processing Flow",id:"event-processing-flow",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Connection Pooling",id:"connection-pooling",level:3},{value:"Memory Optimization",id:"memory-optimization",level:3},{value:"Network Performance",id:"network-performance",level:3},{value:"Monitoring and Logging",id:"monitoring-and-logging",level:2},{value:"Health Checks",id:"health-checks",level:3},{value:"Logging Configuration",id:"logging-configuration",level:3},{value:"Metrics to Monitor",id:"metrics-to-monitor",level:3},{value:"Production Considerations",id:"production-considerations",level:2},{value:"\u26a0\ufe0f Critical: Remove Development-Only Settings",id:"\ufe0f-critical-remove-development-only-settings",level:3},{value:"Production Checklist",id:"production-checklist",level:3},{value:"Security",id:"security",level:4},{value:"Reliability",id:"reliability",level:4},{value:"Performance",id:"performance",level:4},{value:"Compliance",id:"compliance",level:4},{value:"Certificate Renewal (Production)",id:"certificate-renewal-production",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"1. Connection Refused",id:"1-connection-refused",level:4},{value:"2. TLS Certificate Errors",id:"2-tls-certificate-errors",level:4},{value:"3. Authentication Failed",id:"3-authentication-failed",level:4},{value:"4. Memory Issues",id:"4-memory-issues",level:4},{value:"Debug Commands",id:"debug-commands",level:3},{value:"References",id:"references",level:2},{value:"Official Documentation",id:"official-documentation",level:3},{value:"Related Documents",id:"related-documents",level:3},{value:"Appendix",id:"appendix",level:2},{value:"A. Environment Variables Reference",id:"a-environment-variables-reference",level:3},{value:"B. Redis Commands Cheat Sheet",id:"b-redis-commands-cheat-sheet",level:3},{value:"C. Certificate Generation Script",id:"c-certificate-generation-script",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"redis-implementation-and-security---technical-documentation",children:"Redis Implementation and Security - Technical Documentation"})}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#architecture",children:"Architecture"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#implementation-details",children:"Implementation Details"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#security-features",children:"Security Features"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#configuration",children:"Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#tlsssl-implementation",children:"TLS/SSL Implementation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#caching-strategy",children:"Caching Strategy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#redis-streams",children:"Redis Streams"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#performance-optimization",children:"Performance Optimization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#monitoring-and-logging",children:"Monitoring and Logging"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#production-considerations",children:"Production Considerations"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Redis is implemented in the AREA backend as a high-performance in-memory data store serving multiple purposes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Caching Layer:"})," Service definitions, user sessions, and API responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event Streaming:"})," Real-time AREA (Action-Reaction) event processing via Redis Streams"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limiting:"})," API request throttling and abuse prevention"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Management:"})," User authentication state and temporary data"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Redis:"})," Latest version (8.2.1)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spring Data Redis:"})," Integration framework"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lettuce:"})," Async Redis client (default in Spring Boot)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Docker:"})," Containerized deployment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TLS/SSL:"})," Encrypted communication (TLSv1.2/1.3)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"system-diagram",children:"System Diagram"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Docker Network (area-network)            \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502  \u2502              \u2502   TLS    \u2502              \u2502                 \u2502\n\u2502  \u2502 AREA Backend \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  Redis       \u2502                 \u2502\n\u2502  \u2502  (Java/      \u2502  :6379   \u2502  Server      \u2502                 \u2502\n\u2502  \u2502   Spring)    \u2502          \u2502              \u2502                 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502       \u2502                           \u2502                          \u2502\n\u2502       \u2502                           \u2502                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502  \u2502 Postgres  \u2502              \u2502  Volumes  \u2502                  \u2502\n\u2502  \u2502 Database  \u2502              \u2502  - Data   \u2502                  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502  - Certs  \u2502                  \u2502\n\u2502                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"component-interaction",children:"Component Interaction"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend Application"})," connects to Redis via TLS-encrypted connection"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Redis Streams"})," handle asynchronous AREA event processing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cache Manager"})," stores frequently accessed data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Health Checks"})," monitor Redis availability"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Volume Persistence"})," ensures data durability"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,r.jsx)(n.h3,{id:"spring-configuration",children:"Spring Configuration"}),"\n",(0,r.jsx)(n.h4,{id:"redisconfigjava",children:"RedisConfig.java"}),"\n",(0,r.jsx)(n.p,{children:"The main configuration class handles:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Configuration\n@EnableCaching\n@EnableRedisRepositories\n@Profile("!unit-test")\n@Slf4j\n@RequiredArgsConstructor\npublic class RedisConfig {\n    // Connection factory with TLS support\n    // Cache manager with custom TTL configurations\n    // Stream message listener for event processing\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Conditional SSL/TLS activation via environment variables"}),"\n",(0,r.jsx)(n.li,{children:"Custom cache configurations per data type"}),"\n",(0,r.jsx)(n.li,{children:"Redis Streams integration for event-driven architecture"}),"\n",(0,r.jsx)(n.li,{children:"Connection pooling for optimal performance"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"connection-factory",children:"Connection Factory"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Bean\npublic LettuceConnectionFactory redisConnectionFactory() {\n    RedisStandaloneConfiguration redisConfig = \n        new RedisStandaloneConfiguration();\n    redisConfig.setHostName(redisHost);\n    redisConfig.setPort(redisPort);\n    redisConfig.setPassword(redisPassword);\n    \n    // TLS configuration\n    if (sslEnabled) {\n        clientConfigBuilder\n            .useSsl()\n            .disablePeerVerification()  // Dev only!\n            .and()\n            .clientOptions(clientOptions);\n    }\n    \n    return new LettuceConnectionFactory(redisConfig, \n                                       clientConfigBuilder.build());\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"redis-template",children:"Redis Template"}),"\n",(0,r.jsx)(n.p,{children:"Provides a high-level abstraction for Redis operations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Bean\npublic RedisTemplate<String, Object> redisTemplate(\n        RedisConnectionFactory connectionFactory) {\n    RedisTemplate<String, Object> template = new RedisTemplate<>();\n    template.setConnectionFactory(connectionFactory);\n    \n    // JSON serialization for complex objects\n    template.setKeySerializer(new StringRedisSerializer());\n    template.setValueSerializer(\n        new GenericJackson2JsonRedisSerializer());\n    \n    return template;\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsx)(n.h3,{id:"multi-layer-security-architecture",children:"Multi-Layer Security Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Security Layer 1: Network Isolation                   \u2502\n\u2502  - Docker network isolation (area-network)             \u2502\n\u2502  - No external port exposure                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Security Layer 2: TLS/SSL Encryption                  \u2502\n\u2502  - TLSv1.2 and TLSv1.3 only                           \u2502\n\u2502  - Strong cipher suites                                \u2502\n\u2502  - Certificate-based authentication                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Security Layer 3: Authentication                      \u2502\n\u2502  - Password-based authentication (requirepass)         \u2502\n\u2502  - 44-character cryptographically strong password      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Security Layer 4: Command Restriction                 \u2502\n\u2502  - Dangerous commands disabled                         \u2502\n\u2502  - FLUSHDB, CONFIG, DEBUG, EVAL blocked                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"1-network-security",children:"1. Network Security"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker Network Isolation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"networks:\n  area-network:\n    driver: bridge\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"No Public Exposure:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Redis port NOT exposed to host\nports: []  # Internal only: 6379/tcp\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Redis accessible only within Docker network"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 No direct internet access"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Additional firewall layer via Docker"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-tlsssl-encryption",children:"2. TLS/SSL Encryption"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configuration:"})," ",(0,r.jsx)(n.code,{children:"redis.conf"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:'# Disable non-TLS connections\nport 0\n\n# Enable TLS on standard port\ntls-port 6379\n\n# Certificate configuration\ntls-cert-file /usr/local/etc/redis/certs/redis-cert.pem\ntls-key-file /usr/local/etc/redis/certs/redis-key.pem\ntls-ca-cert-file /usr/local/etc/redis/certs/ca-cert.pem\n\n# Security protocols\ntls-protocols "TLSv1.2 TLSv1.3"\n\n# Secure cipher suites\ntls-ciphers DEFAULT:!MEDIUM:!LOW:!aNULL:!eNULL:!EXPORT:!DES:!3DES:!MD5:!PSK:!RC4\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Protocol Support:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 TLSv1.2 (minimum)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 TLSv1.3 (preferred)"}),"\n",(0,r.jsx)(n.li,{children:"\u274c TLSv1.0, TLSv1.1 (deprecated, disabled)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-authentication",children:"3. Authentication"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Password Requirements:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Minimum 32 characters (current: 44)"}),"\n",(0,r.jsx)(n.li,{children:"Base64-encoded random bytes"}),"\n",(0,r.jsxs)(n.li,{children:["Stored in environment variables (",(0,r.jsx)(n.code,{children:".env"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Never hardcoded in source code"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"requirepass ${REDIS_PASSWORD}\nprotected-mode yes\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-command-restriction",children:"4. Command Restriction"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Disabled Dangerous Commands:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:'# Database destruction\nrename-command FLUSHDB ""\nrename-command FLUSHALL ""\n\n# Configuration tampering\nrename-command CONFIG ""\n\n# Debugging/introspection\nrename-command DEBUG ""\n\n# Script execution\nrename-command EVAL ""\nrename-command EVALSHA ""\n\n# Server control\nrename-command SHUTDOWN ""\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rationale:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Risk"}),(0,r.jsx)(n.th,{children:"Impact"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"FLUSHDB"})}),(0,r.jsx)(n.td,{children:"Database wipe"}),(0,r.jsx)(n.td,{children:"Data loss"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CONFIG"})}),(0,r.jsx)(n.td,{children:"Runtime config change"}),(0,r.jsx)(n.td,{children:"Security bypass"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"EVAL"})}),(0,r.jsx)(n.td,{children:"Arbitrary Lua execution"}),(0,r.jsx)(n.td,{children:"Code injection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DEBUG"})}),(0,r.jsx)(n.td,{children:"Memory inspection"}),(0,r.jsx)(n.td,{children:"Information disclosure"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SHUTDOWN"})}),(0,r.jsx)(n.td,{children:"Server termination"}),(0,r.jsx)(n.td,{children:"Denial of Service"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"5-resource-limits",children:"5. Resource Limits"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Memory Management:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"maxmemory 256mb\nmaxmemory-policy allkeys-lru\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connection Limits:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"maxclients 10000\ntimeout 300  # 5 minutes idle timeout\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prevents memory exhaustion attacks"}),"\n",(0,r.jsx)(n.li,{children:"Limits concurrent connections"}),"\n",(0,r.jsx)(n.li,{children:"Automatic eviction of old data"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Redis Connection\nREDIS_HOST=redis\nREDIS_PORT=6379\nREDIS_PASSWORD=<strong-password-here>\nREDIS_DATABASE=0\n\n# Security\nREDIS_SSL=true\nREDIS_TIMEOUT=2000ms\n\n# Connection Pool\nREDIS_POOL_MAX_ACTIVE=8\nREDIS_POOL_MAX_IDLE=8\nREDIS_POOL_MIN_IDLE=0\nREDIS_POOL_MAX_WAIT=-1ms\n\n# Redis Streams\nREDIS_STREAM_NAME=areas:events\nREDIS_CONSUMER_GROUP=area-processors\nREDIS_CONSUMER_NAME=<auto-generated>\nREDIS_STREAM_BATCH_SIZE=10\nREDIS_STREAM_THREAD_POOL_SIZE=4\nREDIS_STREAM_POLL_TIMEOUT_MS=100\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-configuration",children:"Docker Configuration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"Docker/docker-compose.back.yaml"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'services:\n  redis:\n    build:\n      context: ./redis\n      dockerfile: Dockerfile\n    container_name: area-redis\n    environment:\n      - REDIS_PASSWORD=${REDIS_PASSWORD}\n      - REDIS_SSL=${REDIS_SSL:-false}\n    volumes:\n      - redis_data:/data\n      - redis_certs:/usr/local/etc/redis/certs\n    healthcheck:\n      test: ["CMD", "sh", "-c", "if [ \\"$$REDIS_SSL\\" = \\"true\\" ]; then redis-cli --tls --cert /usr/local/etc/redis/certs/redis-cert.pem --key /usr/local/etc/redis/certs/redis-key.pem --cacert /usr/local/etc/redis/certs/ca-cert.pem --no-auth-warning -a $$REDIS_PASSWORD ping 2>/dev/null | grep PONG; else redis-cli --no-auth-warning -a $$REDIS_PASSWORD ping 2>/dev/null | grep PONG; fi"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 10s\n    networks:\n      - area-network\n    restart: unless-stopped\n\nvolumes:\n  redis_data:\n  redis_certs:\n\nnetworks:\n  area-network:\n    driver: bridge\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"tlsssl-implementation",children:"TLS/SSL Implementation"}),"\n",(0,r.jsx)(n.h3,{id:"certificate-generation",children:"Certificate Generation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"Docker/redis/generate-certs.sh"})]}),"\n",(0,r.jsx)(n.p,{children:"Automatically generates self-signed certificates on first run:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\nset -e\n\nCERT_DIR="/usr/local/etc/redis/certs"\nDAYS_VALID=365\n\n# Generate CA certificate\nopenssl genrsa -out ca-key.pem 4096\nopenssl req -new -x509 -days $DAYS_VALID -key ca-key.pem \\\n    -out ca-cert.pem \\\n    -subj "/C=US/ST=State/L=City/O=AREA/CN=Redis CA"\n\n# Generate server certificate\nopenssl genrsa -out redis-key.pem 4096\nopenssl req -new -key redis-key.pem -out redis-req.pem \\\n    -subj "/C=US/ST=State/L=City/O=AREA/CN=redis"\nopenssl x509 -req -days $DAYS_VALID -in redis-req.pem \\\n    -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial \\\n    -out redis-cert.pem\n\n# Set permissions\nchmod 644 ca-cert.pem redis-cert.pem\nchmod 600 ca-key.pem redis-key.pem\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tls-handshake-flow",children:"TLS Handshake Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Client (Backend)                    Server (Redis)\n     \u2502                                   \u2502\n     \u2502\u2500\u2500\u2500\u2500 TLS ClientHello \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n     \u2502                                   \u2502\n     \u2502\u25c4\u2500\u2500\u2500 TLS ServerHello \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502\u25c4\u2500\u2500\u2500 Certificate \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502\u25c4\u2500\u2500\u2500 ServerKeyExchange \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502\u25c4\u2500\u2500\u2500 ServerHelloDone \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                                   \u2502\n     \u2502\u2500\u2500\u2500\u2500 ClientKeyExchange \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n     \u2502\u2500\u2500\u2500\u2500 ChangeCipherSpec \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n     \u2502\u2500\u2500\u2500\u2500 Finished \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n     \u2502                                   \u2502\n     \u2502\u25c4\u2500\u2500\u2500 ChangeCipherSpec \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502\u25c4\u2500\u2500\u2500 Finished \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                                   \u2502\n     \u2502\u2550\u2550\u2550\u2550\u2550\u2550 Encrypted Data \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u25ba\u2502\n     \u2502\u25c4\u2550\u2550\u2550\u2550\u2550\u2550\u2550 Encrypted Data \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2502\n"})}),"\n",(0,r.jsx)(n.h3,{id:"certificate-management",children:"Certificate Management"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Lifecycle:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Generation:"})," Automatic on container first run"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage:"})," Persistent volume (",(0,r.jsx)(n.code,{children:"redis_certs"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotation:"})," Manual (365-day validity)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Renewal:"})," Replace certificates before expiration"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Files:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ca-cert.pem"})," - Certificate Authority public certificate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ca-key.pem"})," - CA private key (keep secure!)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"redis-cert.pem"})," - Redis server certificate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"redis-key.pem"})," - Redis server private key"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"caching-strategy",children:"Caching Strategy"}),"\n",(0,r.jsx)(n.h3,{id:"cache-hierarchies",children:"Cache Hierarchies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Application Layer (Spring Boot)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Redis Cache Manager                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 services-catalog     TTL: 1 hour                \u2502   \u2502\n\u2502  \u2502 - Service definitions, action templates         \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 services             TTL: 1 hour                \u2502   \u2502\n\u2502  \u2502 - User service configurations                   \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 actionDefinitions    TTL: 30 minutes            \u2502   \u2502\n\u2502  \u2502 - AREA action definitions                       \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 userSessions         TTL: 20 minutes            \u2502   \u2502\n\u2502  \u2502 - Active user sessions, authentication state    \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 tokens               TTL: 15 minutes            \u2502   \u2502\n\u2502  \u2502 - API tokens, temporary credentials             \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 rateLimits           TTL: 1 minute              \u2502   \u2502\n\u2502  \u2502 - API rate limiting counters                    \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cache-configuration",children:"Cache Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Bean\npublic RedisCacheManager cacheManager(\n        RedisConnectionFactory connectionFactory) {\n    \n    RedisCacheConfiguration defaultConfig = \n        RedisCacheConfiguration.defaultCacheConfig()\n            .entryTtl(Duration.ofMinutes(30))\n            .serializeKeysWith(/*...*/)\n            .serializeValuesWith(/*...*/);\n    \n    Map<String, RedisCacheConfiguration> caches = new HashMap<>();\n    \n    caches.put("services-catalog", defaultConfig\n        .entryTtl(Duration.ofHours(1)));\n    \n    caches.put("tokens", defaultConfig\n        .entryTtl(Duration.ofMinutes(15)));\n    \n    // ... more cache configurations\n    \n    return RedisCacheManager.builder(connectionFactory)\n        .cacheDefaults(defaultConfig)\n        .withInitialCacheConfigurations(caches)\n        .build();\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"cache-usage-patterns",children:"Cache Usage Patterns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Service Catalog Caching:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Cacheable(value = "services-catalog", key = "#serviceId")\npublic ServiceDefinition getServiceDefinition(String serviceId) {\n    // Expensive operation - only called on cache miss\n    return serviceRepository.findById(serviceId);\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Rate Limiting:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Cacheable(value = "rateLimits", key = "#userId")\npublic RateLimitInfo getRateLimit(String userId) {\n    return new RateLimitInfo(/* ... */);\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Session Management:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Cacheable(value = "userSessions", key = "#sessionId")\npublic UserSession getSession(String sessionId) {\n    return sessionStore.findById(sessionId);\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"redis-streams",children:"Redis Streams"}),"\n",(0,r.jsx)(n.h3,{id:"event-driven-architecture",children:"Event-Driven Architecture"}),"\n",(0,r.jsx)(n.p,{children:"Redis Streams enable asynchronous processing of AREA events:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u2502 Produce \u2502             \u2502 Consume \u2502            \u2502\n\u2502  Triggers  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502   Redis     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 AREA Event \u2502\n\u2502  (Actions) \u2502  Event  \u2502   Stream    \u2502  Event  \u2502 Processor  \u2502\n\u2502            \u2502         \u2502             \u2502         \u2502            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 Persistence\n                             \u25bc\n                       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                       \u2502  AOF/RDB    \u2502\n                       \u2502  Snapshots  \u2502\n                       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stream-configuration",children:"Stream Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Bean\npublic StreamMessageListenerContainer<String, ?> \n        streamMessageListenerContainer(\n            RedisConnectionFactory connectionFactory) {\n    \n    StreamMessageListenerContainerOptions<String, ?> options = \n        StreamMessageListenerContainerOptions.builder()\n            .batchSize(10)\n            .executor(Executors.newFixedThreadPool(4))\n            .pollTimeout(Duration.ofMillis(100))\n            .build();\n    \n    return StreamMessageListenerContainer.create(\n        connectionFactory, options);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stream-properties",children:"Stream Properties"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Stream name\nREDIS_STREAM_NAME=areas:events\n\n# Consumer group for load balancing\nREDIS_CONSUMER_GROUP=area-processors\n\n# Processing configuration\nREDIS_STREAM_BATCH_SIZE=10\nREDIS_STREAM_THREAD_POOL_SIZE=4\nREDIS_STREAM_POLL_TIMEOUT_MS=100\n"})}),"\n",(0,r.jsx)(n.h3,{id:"event-processing-flow",children:"Event Processing Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Action Triggered"})," \u2192 Event created and added to stream"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stream Polling"})," \u2192 Listener continuously polls for new events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Processing"})," \u2192 Events processed in batches of 10"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consumer Group"})," \u2192 Multiple instances share processing load"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Acknowledgment"})," \u2192 Successful processing acknowledged"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"})," \u2192 Failed events requeued for retry"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Lettuce Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"REDIS_POOL_MAX_ACTIVE=8    # Maximum connections\nREDIS_POOL_MAX_IDLE=8      # Idle connections kept alive\nREDIS_POOL_MIN_IDLE=0      # Minimum idle connections\nREDIS_POOL_MAX_WAIT=-1ms   # Wait indefinitely for connection\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Connection reuse (no TCP handshake overhead)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Reduced latency for subsequent requests"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Better resource utilization"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"memory-optimization",children:"Memory Optimization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Eviction policy\nmaxmemory 256mb\nmaxmemory-policy allkeys-lru\n\n# Persistence tuning\nsave 900 1      # Save after 900s if \u22651 key changed\nsave 300 10     # Save after 300s if \u226510 keys changed\nsave 60 10000   # Save after 60s if \u226510000 keys changed\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"LRU (Least Recently Used) Strategy:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Automatically evicts oldest unused keys"}),"\n",(0,r.jsx)(n.li,{children:"Prevents memory overflow"}),"\n",(0,r.jsx)(n.li,{children:"Maintains hot data in cache"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"network-performance",children:"Network Performance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:'# Keep connections alive\ntcp-keepalive 300\n\n# Timeout idle clients\ntimeout 300\n\n# Disable slow commands\nrename-command KEYS ""  # Use SCAN instead\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-and-logging",children:"Monitoring and Logging"}),"\n",(0,r.jsx)(n.h3,{id:"health-checks",children:"Health Checks"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker Health Check:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'healthcheck:\n  test: ["CMD", "redis-cli", "--tls", "--cert", \n         "/path/to/cert.pem", "-a", "$$REDIS_PASSWORD", "ping"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 10s\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Indicators:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"healthy"})," - Redis responding to PING"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unhealthy"})," - Connection failed or timeout"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"starting"})," - Container initializing"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"logging-configuration",children:"Logging Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:'# Log level\nloglevel notice\n\n# Log to stdout (Docker captures)\nlogfile ""\n\n# Slow query log\nslowlog-log-slower-than 10000  # 10ms threshold\nslowlog-max-len 128            # Keep last 128 slow queries\n'})}),"\n",(0,r.jsx)(n.h3,{id:"metrics-to-monitor",children:"Metrics to Monitor"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Metric"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Alert Threshold"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"connected_clients"})}),(0,r.jsx)(n.td,{children:"Active connections"}),(0,r.jsx)(n.td,{children:"> 8000 (80% of max)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"used_memory"})}),(0,r.jsx)(n.td,{children:"Memory consumption"}),(0,r.jsx)(n.td,{children:"> 204MB (80% of max)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"evicted_keys"})}),(0,r.jsx)(n.td,{children:"Keys evicted by LRU"}),(0,r.jsx)(n.td,{children:"High rate indicates insufficient memory"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"keyspace_hits"})}),(0,r.jsx)(n.td,{children:"Cache hit rate"}),(0,r.jsx)(n.td,{children:"< 80% suggests inefficient caching"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"total_commands_processed"})}),(0,r.jsx)(n.td,{children:"Throughput"}),(0,r.jsx)(n.td,{children:"Sudden drops indicate issues"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"production-considerations",children:"Production Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-critical-remove-development-only-settings",children:"\u26a0\ufe0f Critical: Remove Development-Only Settings"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current Development Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"clientConfigBuilder\n    .useSsl()\n    .disablePeerVerification()  // \u26a0\ufe0f DANGEROUS IN PRODUCTION\n    .and()\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Production Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"clientConfigBuilder\n    .useSsl()\n    // Remove .disablePeerVerification()\n    .and()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"production-checklist",children:"Production Checklist"}),"\n",(0,r.jsx)(n.h4,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Replace self-signed certificates with CA-signed (Let's Encrypt)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,r.jsx)(n.code,{children:".disablePeerVerification()"})," from Java configuration"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Enable mutual TLS (",(0,r.jsx)(n.code,{children:"tls-auth-clients yes"}),")"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Rotate passwords every 90 days"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Use Secrets Manager (AWS Secrets, Vault, etc.)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Enable audit logging"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Disable ",(0,r.jsx)(n.code,{children:"KEYS"})," command completely"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"reliability",children:"Reliability"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure Redis Sentinel or Cluster for HA"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up automated backups (RDB + AOF)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implement backup retention policy"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure monitoring and alerting"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up log aggregation (ELK, Datadog, etc.)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Plan disaster recovery procedures"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tune memory limits based on workload"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Optimize eviction policies"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure appropriate TTLs"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Monitor slow queries"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Benchmark under expected load"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"compliance",children:"Compliance"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Ensure data encryption at rest"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure data retention policies"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Document security controls"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Schedule security audits"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"certificate-renewal-production",children:"Certificate Renewal (Production)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Using Let's Encrypt:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Install Certbot\nsudo apt install certbot\n\n# Generate certificates\nsudo certbot certonly --standalone \\\n    -d redis.yourdomain.com \\\n    --email admin@yourdomain.com\n\n# Auto-renewal cron job\n0 2 * * * certbot renew --quiet \\\n    --deploy-hook "docker restart area-redis"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Certificate Monitoring:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# Check certificate expiration\nCERT="/etc/letsencrypt/live/redis.yourdomain.com/cert.pem"\nDAYS_LEFT=$(openssl x509 -enddate -noout -in "$CERT" | \\\n    awk -F= \'{print $2}\' | xargs -I{} date -d {} +%s | \\\n    awk -v now=$(date +%s) \'{print int(($1-now)/86400)}\')\n\nif [ $DAYS_LEFT -lt 30 ]; then\n    echo "\u26a0\ufe0f Certificate expires in $DAYS_LEFT days!"\n    # Send alert\nfi\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h4,{id:"1-connection-refused",children:"1. Connection Refused"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"io.lettuce.core.RedisConnectionException: \nUnable to connect to redis:6379\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Check Redis container is running: ",(0,r.jsx)(n.code,{children:"docker ps | grep redis"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Verify network configuration: ",(0,r.jsx)(n.code,{children:"docker network inspect area-network"})]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Check firewall rules"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Verify environment variables are set"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-tls-certificate-errors",children:"2. TLS Certificate Errors"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"error:0A000416:SSL routines::sslv3 alert certificate unknown\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Verify certificate paths in ",(0,r.jsx)(n.code,{children:"redis.conf"})]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Check certificate permissions (644 for certs, 600 for keys)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Ensure certificates are not expired"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Validate certificate chain"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"3-authentication-failed",children:"3. Authentication Failed"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"NOAUTH Authentication required\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Verify ",(0,r.jsx)(n.code,{children:"REDIS_PASSWORD"})," environment variable"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Check password in ",(0,r.jsx)(n.code,{children:".env"})," file"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Ensure ",(0,r.jsx)(n.code,{children:"requirepass"})," in ",(0,r.jsx)(n.code,{children:"redis.conf"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Test with ",(0,r.jsx)(n.code,{children:"redis-cli -a <password> ping"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"4-memory-issues",children:"4. Memory Issues"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"OOM command not allowed when used memory > 'maxmemory'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Increase ",(0,r.jsx)(n.code,{children:"maxmemory"})," limit"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Review eviction policy (",(0,r.jsx)(n.code,{children:"maxmemory-policy"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Check for memory leaks in application"}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Analyze key sizes: ",(0,r.jsx)(n.code,{children:"redis-cli --bigkeys"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"debug-commands",children:"Debug Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check Redis logs\ndocker logs area-redis\n\n# Connect to Redis CLI (TLS)\ndocker exec -it area-redis redis-cli \\\n    --tls \\\n    --cert /usr/local/etc/redis/certs/redis-cert.pem \\\n    --key /usr/local/etc/redis/certs/redis-key.pem \\\n    --cacert /usr/local/etc/redis/certs/ca-cert.pem \\\n    -a <REDIS_PASSWORD>\n\n# Monitor Redis commands in real-time\ndocker exec -it area-redis redis-cli \\\n    --tls [...] -a <password> MONITOR\n\n# Get Redis info\ndocker exec -it area-redis redis-cli \\\n    --tls [...] -a <password> INFO\n\n# Check slow queries\ndocker exec -it area-redis redis-cli \\\n    --tls [...] -a <password> SLOWLOG GET 10\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsx)(n.h3,{id:"official-documentation",children:"Official Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://redis.io/docs/",children:"Redis Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://redis.io/docs/manual/security/",children:"Redis Security"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://redis.io/docs/manual/security/encryption/",children:"Redis TLS/SSL"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.spring.io/spring-data/redis/docs/current/reference/html/",children:"Spring Data Redis"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://lettuce.io/core/release/reference/",children:"Lettuce Documentation"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"related-documents",children:"Related Documents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./REDIS_TLS_PRODUCTION_GUIDE.md",children:"REDIS_TLS_PRODUCTION_GUIDE.md"})," - Production deployment guide"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./REDIS_SECURITY_AUDIT.md",children:"REDIS_SECURITY_AUDIT.md"})," - Security audit report"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./REDIS_TLS_IMPLEMENTATION.md",children:"REDIS_TLS_IMPLEMENTATION.md"})," - Implementation summary"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"appendix",children:"Appendix"}),"\n",(0,r.jsx)(n.h3,{id:"a-environment-variables-reference",children:"A. Environment Variables Reference"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_HOST"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"localhost"})}),(0,r.jsx)(n.td,{children:"Redis server hostname"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_PORT"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"6379"})}),(0,r.jsx)(n.td,{children:"Redis server port"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_PASSWORD"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Authentication password"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_SSL"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"Enable TLS/SSL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_DATABASE"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0"})}),(0,r.jsx)(n.td,{children:"Database index (0-15)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_TIMEOUT"})}),(0,r.jsx)(n.td,{children:"Duration"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"2000ms"})}),(0,r.jsx)(n.td,{children:"Connection timeout"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_POOL_MAX_ACTIVE"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8"})}),(0,r.jsx)(n.td,{children:"Max active connections"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_POOL_MAX_IDLE"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8"})}),(0,r.jsx)(n.td,{children:"Max idle connections"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_STREAM_NAME"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Stream key name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_CONSUMER_GROUP"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Consumer group name"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"b-redis-commands-cheat-sheet",children:"B. Redis Commands Cheat Sheet"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Key operations\nSET key value\nGET key\nDEL key\nEXISTS key\nEXPIRE key seconds\n\n# Hash operations\nHSET hash field value\nHGET hash field\nHDEL hash field\n\n# Stream operations\nXADD stream * field value\nXREAD STREAMS stream 0\nXGROUP CREATE stream group 0\n\n# Server\nPING\nINFO\nCONFIG GET parameter\n"})}),"\n",(0,r.jsx)(n.h3,{id:"c-certificate-generation-script",children:"C. Certificate Generation Script"}),"\n",(0,r.jsxs)(n.p,{children:["See: ",(0,r.jsx)(n.code,{children:"Docker/redis/generate-certs.sh"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);